<!DOCTYPE html>

<head>
  <title>PHYSCI 70: Intro to Digital Fabrication </title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link href="../styling.css" rel="stylesheet">
  <link href="../hover_pictures.css" rel="stylesheet">
  <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
</head>
<body>

<!-- Heading -->
<div class="header_main">
	<header>Week 10: Machine Building
	</header>
</div>

<!-- Nav -->
<div>
	<nav><a href='../index.html'>Home</a></nav>
</div>


<div class="row">
  <div class="col-sm-1">
  </div>
  <div class="col-sm-6">
            <h3 class="center"> In class/lab: </h3>
            <p> During class and lab this week after setting up one of the motor shafts (since I didn't have the bearing for the other), I started to mess around with the limits of the AccelStepper library. It took me a little while to figure out the units of the library and what each class tells the stepper to do. I still don't understand everything, like why the stepper would turn left and right when the commands were all in the positive direction (this might be because of the 1000 step max). Anyways, I need the stepper to spin fast for my final project so I was playing with 6 digit accelerations and speeds and seeing what the motor could handle before skipping steps. 
            </p>
        </div>
  <div class ="col-sm-4">
       <figure> <img src="./motor_shaft_complete.jpg" class="image" alt="The Completed Motor Shaft">
        <figcaption class="center"> </figcaption>
      </figure>
  </div>
    <div class="col-sm-1">
  </div>
</div>

<div class="row">
  <div class="col-sm-1">
  </div>
  <div class="col-sm-10">
            <h3 class="center"> Stepper Control: </h3>
            <p> I was having trouble thinking of what I could do with the stepper motor. As I was walking around my housing thinking of linear motions I could replicate, I saw some cookies and thought about dipping them into milk. This was a linear motion and I figured I could make it work. So I knew I wanted the stepper motor to move up and down with the control of a button. So after hooking up two buttons so the Huzzah was receiving digital input, I made statements that made the motor move up and down depending on which button was pressed. The way I found was (while using the AccelStepper library) to tell the stepper motor to move, then to call the "run" function. At first, this posed a problem since I was also resetting what the stepper motor thought was position 0 that way my commands within my if statements could be static. My workaround for this was to use a blocking function that way it could move fully before the setPosition command ran.
            </p>
        </div>
    <div class="col-sm-1">
  </div>
</div>

</br>

<div class="row">
  <div class="col-sm-1">
    </div>
    <div class="col-sm-10">
      <div style="width:100%;height:250px;line-height:3em;overflow:auto;padding:5px;">
              <figure>
                <figcaption class="center"> User Input Code:</figcaption>
                <pre>
                  <code>
                      #include "AccelStepper.h"

                      //Pins for the motor driver.
                      const int stepPin = 13;
                      const int dirPin = 12;

                      // Definting my buttons
                      const int buttonUp = 14;
                      const int buttonDown = 15;

                      // Defining a stepper and the pins it will use
                      AccelStepper stepper(1, stepPin, dirPin);

                      void setup()
                      {
                        Serial.begin(9600);

                        pinMode(buttonUp, INPUT_PULLUP);  // Initializing buttonUp
                        pinMode(buttonDown, INPUT_PULLUP); // Initializing buttonDown

                        stepper.setMaxSpeed(500); //Setting a Max Speed for the Stepper
                        stepper.setAcceleration(200); //Setting the Acceleration for the Stepper
                      }

                      void loop()
                      {
                        // Reading the Button Input
                        int valUp = digitalRead(buttonUp);  
                        int valDown = digitalRead(buttonDown);

                        // If statements that read the button input and tells the Stepper to move up and down 50 steps.
                        if ((valUp == 0) && (stepper.distanceToGo() == 0))
                        {
                             stepper.moveTo(50);
                             stepper.runToPosition(); //The runToPosition() function is blocking
                          }

                        if ((valDown == 0) && (stepper.distanceToGo() == 0))
                        {
                             stepper.moveTo(-50);
                             stepper.runToPosition();
                          }

                        // Reset the position to 0 so that when the button is pressed again, 
                        stepper.setCurrentPosition(0);
                      }
                  </code>
                </pre>
              </figure>
            </div>
          </div>
    <div class="col-sm-1">
  </div>
</div>

</br>

<div class="row">
  <div class="col-sm-1">
  </div>
  <div class="col-sm-6">
            <h3 class="center"> Holding the Cookie: </h3>
            <p> To hold the cookie, I was able to use an alligator clip. To get the cookie far enough away for the motor shaft so it can be dipped into a glass of milk I was able to use a coat hanger and push it into some holds located on the motor shaft. After cutting and threading the alligator clip through another hole and tieing it to the coat hanger I had a way to hold a cookie.  
            </p>
        </div>
  <div class ="col-sm-4">
       <figure> <img src="./coat_hanger.jpg" class="image" alt="The Completed Motor Shaft">
        <figcaption class="center"> </figcaption>
      </figure>
  </div>
    <div class="col-sm-1">
  </div>
</div>

</br>

<div class="row">
  <div class="col-sm-1">
  </div>
  <div class ="col-sm-4">
       <figure> <img src="./cookie_dialectric.jpg" class="image" alt="A Cookie as Dialectric">
        <figcaption class="center"> </figcaption>
      </figure>

</br>

       <figure> <img src="./cookie_held.jpg" class="image" alt="Cookie Held Up">
        <figcaption class="center"> </figcaption>
      </figure>
  </div>
  <div class="col-sm-6">
            <h3 class="center"> Finding when the cookie is saturated: </h3>
            <p> At this point I once again hit a stopping point. I wasn't sure what else to do, but then I had the idea of creating a capacitor to measure if the cookie was saturated with milk. Essentially, my thought was the milk should move the part of the cookie that wasn't submerged in milk. This would essentially change the dielectric between the two plates and a response should be seen. It took me a long time to figure out how to set up the sensor. Although we already did this, I think my biggest problem was I was trying to create my own, smaller plates and my connection for the wire to the plate wasn't bad. So after spending a long time figuring this out, I was able to measure if the capacitance changed when the cookie was wet. I found that when the cookie was saturated, the milk acted as a wire and the reading on the serial monitor was 4095. Although not quite what I was expecting I realize that this could work since the reading beforehand was only around 600. So I added some plates to my cookie which were held on there by a clothespin. This was before I realized that the connection was bad to the plates. To fix the bad connection I realized I don't need the plates and I could just puncture the cookie with the wires. This worked just as well since when the milk saturated the cookie it was like the wires were touching each other. Below you can see some videos of the cookie dipper working. 
            </p>
        </div>
    <div class="col-sm-1">
  </div>
</div>

</br>

<div class="row">
  <div class="col-sm-1">
  </div>
  <div class ="col-sm-5">
       <figure> <iframe width="100%" height="350" src="https://www.youtube.com/embed/je4awitkS14" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen alt="Dry vs Wet Cookie"></iframe>
      </figure>

</br>

       <figure> <iframe width="100%" height="350" src="https://www.youtube.com/embed/RMg9KJZBk1E" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen alt="Cookie Dip #2"></iframe>
      </figure>
  </div>
  <div class ="col-sm-5">
       <figure> <iframe width="100%" height="350" src="https://www.youtube.com/embed/Tck81fsYHR4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen alt="Cookie Dip #1"></iframe>
      </figure>

      </br>

       <figure> <iframe width="100%" height="350" src="https://www.youtube.com/embed/MfzSRIUbVHk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen alt="Cookie Dip #3"></iframe>
      </figure>
  </div>
  <div class="col-sm-1">
  </div>
</div>

</body>